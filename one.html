<html> 
<head> 
<link rel="stylesheet" href="ChemDoodleWeb/install/ChemDoodleWeb.css" type="text/css"> 
<link rel="stylesheet" href="ext-4.0.2a/resources/css/ext-all.css" type="text/css"> 
<script type="text/javascript" src="ext-4.0.2a/bootstrap.js"></script> 
<script type="text/javascript" src="ChemDoodleWeb/install/ChemDoodleWeb-libs.js"></script> 
<script type="text/javascript" src="ChemDoodleWeb/src/ChemDoodleWeb-unpacked.js"></script> 
<script type="text/javascript">
Ext.define('Ext.ChemDoodle.ViewerCanvas', {
  extend: 'Ext.Component',
  onRender: function(ct) {
    if (!this.canvas) {
      console.log(this,arguments);
	    this.canvas = ct.createChild({
	      id: ct.id+'-canvas',
	      tag: 'canvas',
	    });
	    this.paper = new ChemDoodle.ViewerCanvas(ct.id+'-canvas', ct.getWidth(), ct.getHeight());
	    this.el = this.canvas;
    } else {
      console.log(ct.getWidth(), ct.getHeight());
      this.canvas.setWidth(ct.getWidth());
      this.canvas.setHeight(ct.getHeight());
      this.canvas.dom.width = ct.getWidth();
      this.canvas.dom.height = ct.getHeight();
      this.paper.width = ct.getWidth();
      this.paper.height = ct.getHeight();
      this.paper.center();
      this.paper.repaint();
    }
  }
});

var mol;
Ext.onReady(function () {
  
  var caf = 'Molecule Name\n  CHEMDOOD08070920033D 0   0.00000     0.00000     0\n[Insert Comment Here]\n 14 15  0  0  0  0  0  0  0  0  1 V2000\n   -0.3318    2.0000    0.0000   O 0  0  0  1  0  0  0  0  0  0  0  0\n   -0.3318    1.0000    0.0000   C 0  0  0  1  0  0  0  0  0  0  0  0\n   -1.1980    0.5000    0.0000   N 0  0  0  1  0  0  0  0  0  0  0  0\n    0.5342    0.5000    0.0000   C 0  0  0  1  0  0  0  0  0  0  0  0\n   -1.1980   -0.5000    0.0000   C 0  0  0  1  0  0  0  0  0  0  0  0\n   -2.0640    1.0000    0.0000   C 0  0  0  4  0  0  0  0  0  0  0  0\n    1.4804    0.8047    0.0000   N 0  0  0  1  0  0  0  0  0  0  0  0\n    0.5342   -0.5000    0.0000   C 0  0  0  1  0  0  0  0  0  0  0  0\n   -2.0640   -1.0000    0.0000   O 0  0  0  1  0  0  0  0  0  0  0  0\n   -0.3318   -1.0000    0.0000   N 0  0  0  1  0  0  0  0  0  0  0  0\n    2.0640   -0.0000    0.0000   C 0  0  0  2  0  0  0  0  0  0  0  0\n    1.7910    1.7553    0.0000   C 0  0  0  4  0  0  0  0  0  0  0  0\n    1.4804   -0.8047    0.0000   N 0  0  0  1  0  0  0  0  0  0  0  0\n   -0.3318   -2.0000    0.0000   C 0  0  0  4  0  0  0  0  0  0  0  0\n  1  2  2  0  0  0  0\n  3  2  1  0  0  0  0\n  4  2  1  0  0  0  0\n  3  5  1  0  0  0  0\n  3  6  1  0  0  0  0\n  7  4  1  0  0  0  0\n  4  8  2  0  0  0  0\n  9  5  2  0  0  0  0\n 10  5  1  0  0  0  0\n 10  8  1  0  0  0  0\n  7 11  1  0  0  0  0\n  7 12  1  0  0  0  0\n 13  8  1  0  0  0  0\n 13 11  2  0  0  0  0\n 10 14  1  0  0  0  0\nM  END\n> <DATE>\n07-08-2009\n';
  
  mol = Ext.create('Ext.ChemDoodle.ViewerCanvas');
  var panel = Ext.create('Ext.panel.Panel',{
    items:mol,
    title:'Caffiene',
    width: 600,
    height: 500,
    resizable: true,
    layout:'fit',
    renderTo: document.body
  });
  
  //mol.paper.specs.backgroundColor = 'lime';
  mol.paper.loadMolecule(ChemDoodle.readMOL(caf)); 
});

</script>
</head> 
<body> 
</body> 
</html>